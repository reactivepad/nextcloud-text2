{"version":3,"sources":["webpack:///src/components/GuestNameDialog.vue","webpack:///./src/components/GuestNameDialog.vue?17bd","webpack:///./src/components/GuestNameDialog.vue?715d","webpack:///./src/components/GuestNameDialog.vue?4889","webpack:///./src/components/GuestNameDialog.vue","webpack:///./src/components/GuestNameDialog.vue?5ec3","webpack:///./src/components/GuestNameDialog.vue?88b7","webpack:///./src/components/GuestNameDialog.vue?1884"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AAEA;AACA,yBADA;AAEA;AACA;AADA,GAFA;AAKA;AACA;AADA,GALA;AAQA;AACA;AACA,kBADA;AAEA;AAFA;AADA,GARA;AAcA,MAdA,kBAcA;AACA;AACA,mBADA;AAEA;AAFA;AAIA,GAnBA;AAoBA;AACA,aADA,uBACA;AACA;AACA,qCACA,6BADA,EAEA;AACA,oCADA;AAEA;AAFA,OAFA;AAMA;AACA;AAVA,GApBA;AAgCA,aAhCA,yBAgCA;AACA;AACA;AACA,GAnCA;AAoCA;AACA,gBADA,0BACA;AAAA;;AACA;AACA;AACA;;AACA;AACA,OAHA,EAGA,KAHA,CAGA;AACA;AACA,OALA;AAMA,KATA;AAUA,2BAVA,qCAUA;AACA;AACA;AAZA;AApCA,G;;;;;;;;;;;AClCA,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,4CAA4C,kBAAkB,qBAAqB,iBAAiB,qBAAqB,iBAAiB,GAAG,+CAA+C,2BAA2B,GAAG,4DAA4D,mBAAmB,GAAG,iDAAiD,mBAAmB,mBAAmB,GAAG;;;;;;;;;;;;;ACF7Z;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+DAA+D;AAC/E,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtEA;;AAEA;AACA,cAAc,mBAAO,CAAC,8iBAAoS;AAC1T,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,0HAA6D;AAC/E,+CAA+C;AAC/C;AACA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACVf;AAAA;AAAA;AAAA;AAAA;AAA0G;AACvC;AACL;AACsC;;;AAGpG;AAC0F;AAC1F,gBAAgB,2GAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA,wCAA+K,CAAgB,mPAAG,EAAC,C;;;;;;;;;;;;ACAnM;AAAA;AAAA;AAAA;AAAkW,CAAgB,mZAAG,EAAC,C;;;;;;;;;;;;ACAtX;AAAA;AAAA;AAAA;AAAA;AAAA","file":"editor-guest.js?v=6c7e2b14fbc7d87c78b3","sourcesContent":["<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<form v-tooltip=\"t('text', 'Enter your name so other users can see who is editing')\" class=\"guest-name-dialog\" @submit.prevent=\"setGuestName()\">\n\t\t<label><Avatar :url=\"avatarUrl\" :disable-tooltip=\"true\" :size=\"32\" /></label>\n\t\t<input v-model=\"guestName\" type=\"text\" :aria-label=\"t('text', 'Edit guest name')\">\n\t\t<input type=\"submit\" class=\"icon-confirm\" :aria-label=\"t('text', 'Save guest name')\">\n\t</form>\n</template>\n\n<script>\nimport Tooltip from 'nextcloud-vue/dist/Directives/Tooltip'\nimport Avatar from 'nextcloud-vue/dist/Components/Avatar'\n\nexport default {\n\tname: 'GuestNameDialog',\n\tcomponents: {\n\t\tAvatar\n\t},\n\tdirectives: {\n\t\ttooltip: Tooltip\n\t},\n\tprops: {\n\t\tsyncService: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tguestName: '',\n\t\t\tguestNameBuffered: ''\n\t\t}\n\t},\n\tcomputed: {\n\t\tavatarUrl() {\n\t\t\tconst size = 32\n\t\t\tconst avatarUrl = OC.generateUrl(\n\t\t\t\t'/avatar/guest/{user}/{size}',\n\t\t\t\t{\n\t\t\t\t\tuser: this.guestNameBuffered,\n\t\t\t\t\tsize: size\n\t\t\t\t})\n\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.guestName = this.syncService.session.guestName\n\t\tthis.updateBufferedGuestName()\n\t},\n\tmethods: {\n\t\tsetGuestName() {\n\t\t\tconst previousGuestName = this.syncService.session.guestName\n\t\t\tthis.syncService.updateSession(this.guestName).then(() => {\n\t\t\t\tlocalStorage.setItem('nick', this.guestName)\n\t\t\t\tthis.updateBufferedGuestName()\n\t\t\t}).catch((e) => {\n\t\t\t\tthis.guestName = previousGuestName\n\t\t\t})\n\t\t},\n\t\tupdateBufferedGuestName() {\n\t\t\tthis.guestNameBuffered = this.guestName\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n\tform.guest-name-dialog {\n\t\tdisplay: flex;\n\t\tmax-width: 200px;\n\t\tmargin: auto;\n\t\tmargin-top: -2px;\n\t\tpadding: 3px;\n\n\t\t& /deep/ img {\n\t\t\tmargin: 0 !important;\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\tlabel {\n\t\t\tpadding: 3px;\n\t\t\theight: 32px;\n\t\t}\n\t}\n</style>\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"form.guest-name-dialog[data-v-7371afaa] {\\n  display: flex;\\n  max-width: 200px;\\n  margin: auto;\\n  margin-top: -2px;\\n  padding: 3px;\\n}\\nform.guest-name-dialog[data-v-7371afaa] img {\\n    margin: 0 !important;\\n}\\nform.guest-name-dialog input[type=text][data-v-7371afaa] {\\n    flex-grow: 1;\\n}\\nform.guest-name-dialog label[data-v-7371afaa] {\\n    padding: 3px;\\n    height: 32px;\\n}\\n\", \"\"]);\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"form\",\n    {\n      directives: [\n        {\n          name: \"tooltip\",\n          rawName: \"v-tooltip\",\n          value: _vm.t(\n            \"text\",\n            \"Enter your name so other users can see who is editing\"\n          ),\n          expression:\n            \"t('text', 'Enter your name so other users can see who is editing')\"\n        }\n      ],\n      staticClass: \"guest-name-dialog\",\n      on: {\n        submit: function($event) {\n          $event.preventDefault()\n          return _vm.setGuestName()\n        }\n      }\n    },\n    [\n      _c(\n        \"label\",\n        [\n          _c(\"Avatar\", {\n            attrs: { url: _vm.avatarUrl, \"disable-tooltip\": true, size: 32 }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.guestName,\n            expression: \"guestName\"\n          }\n        ],\n        attrs: { type: \"text\", \"aria-label\": _vm.t(\"text\", \"Edit guest name\") },\n        domProps: { value: _vm.guestName },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.guestName = $event.target.value\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        staticClass: \"icon-confirm\",\n        attrs: {\n          type: \"submit\",\n          \"aria-label\": _vm.t(\"text\", \"Save guest name\")\n        }\n      })\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d0f17472\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./GuestNameDialog.vue?vue&type=template&id=7371afaa&scoped=true&\"\nimport script from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7371afaa\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/marekbaranowski/Documents/nextcloud/apps/text/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7371afaa')) {\n      api.createRecord('7371afaa', component.options)\n    } else {\n      api.reload('7371afaa', component.options)\n    }\n    module.hot.accept(\"./GuestNameDialog.vue?vue&type=template&id=7371afaa&scoped=true&\", function () {\n      api.rerender('7371afaa', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/GuestNameDialog.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=7371afaa&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=template&id=7371afaa&scoped=true&\""],"sourceRoot":""}